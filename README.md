# Muthallajat

Muthallajat is a project that implements a compiler/interpreter for simple educational programming languages, such as WHILE and FUN. The project is a translation of an original Scala implementation into Python2 and RPython, preserving the core semantics and evaluation strategies while adapting the code to different language constraints.

## Overview

This project demonstrates language processing techniques through a series of components:
- **Lexer and Parser**: Translates source code into tokens and builds abstract syntax trees (ASTs) using recursive descent parsing.
- **Evaluator/Interpreter**: Provides both iterative and recursive evaluators for the WHILE language.
- **RPython Translation**: Adapts the Python2 code to RPython, ensuring compliance with its static analysis constraints and enabling translation to C.

## Features

- **Translation of Scala Logic**: The original Scala implementation was translated to Python2 and further adapted to RPython. While the original Scala code is not included, the translated versions retain the same language semantics.
- **Multiple Evaluation Strategies**: Both iterative and recursive evaluators are provided to handle the AST generated by the parser.
- **Optimized RPython Code**: The RPython translation includes adjustments (such as the use of `__slots__` and static type practices) to meet the compiler`s strict requirements.
- **Comprehensive Documentation**: Detailed design documentation and performance benchmarks are included, highlighting both the strengths and limitations of the translation process.

## Directory Structure

```plaintext
Muthallajat/
├── examples/                # Sample code and small programs for WHILE Language
├── fun_examples/            # Sample code and small programs for FUN Language
├── fun_rpython_code/        # RPython-adapted version of the FUN language
├── scala_code/              # (Not included in this repository)
├── while_python2_code/      # Python2 implementations (lexer, parser, evaluators) for WHILE
├── while_rpython_code/      # RPython code adapted from the Python2 version
├── .gitignore               # Git ignore rules
└── README.md                # Project overview and instructions

## Instructions
For Python2:
To run the WHILE language interpreter, use the following command:
```bash
python2 while_python2_code/target.py <example.while>
```
where `<example.while>` is a program in the examples directory.

To switch between the iterative and recursive evaluators, modify the `target.py` file to select the desired evaluator.
```
#from recursive_eval import run
from iterative_eval import run
```
uncomment the desired evaluator.